# 🔍 运行问题解决指南

## 问题：显示"正在监听 0 个钱包"

### 原因分析

当您看到"正在监听 0 个钱包"时，通常是因为：

1. **过滤条件太严格**：配置的 `minWinRate` 或 `minSmartScore` 太高，导致所有交易者都被过滤
2. **API 返回的数据不完整**：某些交易者的 profile 数据可能缺失
3. **网络问题**：获取钱包 profile 时出错

### 解决方案

#### 方案 1：降低过滤条件（推荐）

编辑 `config.js`，降低或移除过滤条件：

```javascript
filters: {
  // 降低最小胜率（例如从 0.5 改为 0.3，即 30%）
  minWinRate: 0.3,  // 或设置为 0 表示不限制
  
  // 降低最小智能评分（例如从 70 改为 50）
  minSmartScore: 50,  // 或设置为 0 表示不限制
}
```

#### 方案 2：移除所有过滤条件

如果想查看所有交易者，可以移除过滤：

```javascript
filters: {
  minWinRate: 0,      // 不限制胜率
  minSmartScore: 0,  // 不限制评分
}
```

#### 方案 3：直接指定钱包地址

不依赖排行榜，直接指定要跟单的钱包：

```javascript
targetWallets: [
  '0xe00740bce98a594e26861838885ab310ec3b548c',
  '0x6031b6eed1c97e853c6e0f03ad3ce3529351f96d',
  // 添加更多钱包地址
],
```

#### 方案 4：启用自动跟单模式

如果配置了私钥，可以启用自动跟单（会自动处理过滤）：

```javascript
followSettings: {
  autoFollow: true,  // 启用自动跟单
  dryRun: true,      // 测试模式
}
```

### 调试信息

改进后的代码会显示：
- 通过过滤的钱包数量
- 被过滤的钱包数量
- 被过滤的原因（胜率或评分不达标）

### 当前配置检查

检查您的 `config.js`：

```javascript
filters: {
  minWinRate: 0.5,      // 要求胜率 >= 50%
  minSmartScore: 70,   // 要求评分 >= 70
}
```

如果所有交易者都不满足这些条件，就会显示 0 个钱包。

### 快速修复

**临时测试（查看所有交易者）：**

```javascript
filters: {
  minWinRate: 0,      // 不限制
  minSmartScore: 0,  // 不限制
}
```

**生产使用（合理过滤）：**

```javascript
filters: {
  minWinRate: 0.3,      // 30% 胜率
  minSmartScore: 50,    // 50 分
}
```

## 其他常见问题

### 问题：显示"只读模式"

**原因**：私钥未设置

**解决**：
1. 设置环境变量：`export POLYMARKET_PRIVATE_KEY="0x您的私钥"`
2. 或直接在 `config.js` 中填入：`privateKey: '0x您的私钥'`

### 问题：自动跟单未启用

**原因**：`autoFollow: false`

**解决**：设置 `autoFollow: true`（需要先配置私钥）

### 问题：没有显示钱包信息

**原因**：可能所有钱包都被过滤，或 API 返回空数据

**解决**：
1. 降低过滤条件
2. 检查网络连接
3. 查看详细日志

## 验证修复

修复后重新运行：

```bash
npm start
```

应该看到：
- ✅ 成功加载 X 名交易者
- ✅ 通过过滤: X 个
- ✅ 已添加钱包到监听列表

---

**提示**：如果仍然显示 0 个钱包，可以尝试：
1. 完全移除过滤条件（设置为 0）
2. 直接指定钱包地址
3. 查看详细日志了解被过滤的原因
