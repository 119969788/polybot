# ⚠️ 真实交易模式说明

## ✅ 已切换配置

配置文件已更新为真实交易模式：

```javascript
followSettings: {
  autoFollow: true,
  dryRun: false,  // ⚠️ 真实交易模式
  sizeScale: 0.1,  // 跟单10%
  maxSizePerTrade: 10,  // 最大单笔 $10（已调整为安全金额）
  minTradeSize: 1,  // 最小 $1
}
```

## ⚠️ 重要警告

### 真实交易模式的风险

1. **会执行真实交易**：不再是测试模式，所有交易都会真实执行
2. **会消耗真实资金**：每次跟单都会使用您的 USDC 余额
3. **不可撤销**：交易一旦执行，无法撤销
4. **可能亏损**：跟单交易存在市场风险，可能导致资金损失

### 当前安全设置

为了降低风险，已调整以下参数：

- ✅ `maxSizePerTrade: 10` - 最大单笔 $10（相对安全的小金额）
- ✅ `sizeScale: 0.1` - 跟单10%（不会完全跟单）
- ✅ `minTradeSize: 1` - 最小 $1（符合平台要求）

## ⚠️ 重要问题

### 问题 1：网络连接问题

之前运行时显示：
```
connect ETIMEDOUT 69.63.176.59:443
Failed to create or derive API key. Wallet may not be registered on Polymarket.
```

**这意味着**：
- 如果网络问题持续，程序可能无法执行交易
- 程序会自动回退到只读模式
- 或者交易会失败

**解决方案**：
1. 配置代理（如果网络受限）
2. 确保网络可以稳定访问 Polymarket API
3. 确保钱包已在 Polymarket 注册

### 问题 2：钱包注册

**重要**：私钥对应的钱包地址必须在 Polymarket 上注册才能执行交易。

如果未注册：
1. 访问 https://polymarket.com/
2. 使用该钱包连接
3. 完成注册流程

## 启动时的安全机制

我已经添加了安全机制：

1. **5秒倒计时**：程序启动时会显示 5 秒倒计时，您可以按 `Ctrl+C` 取消
2. **明确警告**：会显示多次警告信息
3. **配置确认**：显示所有交易参数，方便您确认

## 运行前检查清单

- [ ] ✅ 已充分测试（至少 24 小时以上）
- [ ] ✅ 网络连接稳定（可以访问 Polymarket）
- [ ] ✅ 钱包已在 Polymarket 注册
- [ ] ✅ 账户有足够的 USDC 余额（建议至少 $100）
- [ ] ✅ 理解并接受所有风险
- [ ] ✅ 准备好承担可能的损失
- [ ] ✅ 金额设置合理（当前：最大 $10/笔）

## 当前配置总览

```
✅ 真实交易模式：已启用
✅ 自动跟单：已启用
✅ 目标钱包：2 个
✅ 跟单比例：10%
✅ 最大单笔：$10
✅ 最小单笔：$1
```

## 运行程序

```bash
npm start
```

运行时会看到：
1. 配置确认信息
2. ⚠️ 警告信息
3. 5 秒倒计时（可以取消）
4. 然后开始执行真实交易

## 紧急停止

如果出现问题，立即：

```bash
# 按 Ctrl+C 停止程序
# 或使用 PM2
pm2 stop polybot
```

## 如果需要改回测试模式

如果发现有问题，立即改回测试模式：

```javascript
// config.js
dryRun: true,  // 改回测试模式
```

## 监控建议

运行真实交易模式时，建议：

1. **实时监控**：保持程序在前台运行，观察所有交易
2. **定期检查**：定期检查账户余额和持仓
3. **设置限额**：确保 `maxSizePerTrade` 不超过您的风险承受能力
4. **准备止损**：如果发现异常，立即停止程序

## 首次运行建议

1. **小额测试**：当前设置为最大 $10/笔，建议先运行一段时间观察
2. **监控效果**：观察跟单效果，确认策略正确
3. **逐步增加**：确认无误后，可以逐步增加金额

---

**⚠️ 再次提醒：真实交易模式会执行真实交易，会消耗您的真实资金！**

**请确保您已经完全理解风险并准备好承担可能的损失！**
