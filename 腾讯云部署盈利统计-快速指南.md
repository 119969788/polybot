# ğŸš€ è…¾è®¯äº‘æœåŠ¡å™¨å¿«é€Ÿéƒ¨ç½²ç›ˆåˆ©ç»Ÿè®¡åŠŸèƒ½

## å¿«é€Ÿéƒ¨ç½²ï¼ˆ3æ­¥ï¼‰

### æ­¥éª¤ 1ï¼šä¸Šä¼ æ–‡ä»¶åˆ°æœåŠ¡å™¨

å¦‚æœä½¿ç”¨ Gitï¼š

```bash
ssh user@your-server-ip
cd /opt/polybot
git pull origin main
```

å¦‚æœæ‰‹åŠ¨ä¸Šä¼ ï¼š

```bash
# åœ¨æœ¬åœ°æ‰§è¡Œ
scp src/ProfitTracker.js user@your-server-ip:/opt/polybot/src/
scp src/WalletFollower.js user@your-server-ip:/opt/polybot/src/
scp config.js user@your-server-ip:/opt/polybot/
scp index.js user@your-server-ip:/opt/polybot/
```

### æ­¥éª¤ 2ï¼šè¿è¡Œéƒ¨ç½²è„šæœ¬

```bash
ssh user@your-server-ip
cd /opt/polybot
chmod +x æœåŠ¡å™¨å¿«é€Ÿéƒ¨ç½²ç›ˆåˆ©ç»Ÿè®¡.sh
bash æœåŠ¡å™¨å¿«é€Ÿéƒ¨ç½²ç›ˆåˆ©ç»Ÿè®¡.sh
```

### æ­¥éª¤ 3ï¼šé‡å¯ç¨‹åº

å¦‚æœä½¿ç”¨ PM2ï¼š

```bash
pm2 restart polybot
pm2 logs polybot
```

æˆ–ç›´æ¥è¿è¡Œï¼š

```bash
npm start
```

## æ‰‹åŠ¨éƒ¨ç½²ï¼ˆå¦‚æœè„šæœ¬ä¸å·¥ä½œï¼‰

### 1. æ£€æŸ¥æ–‡ä»¶

```bash
cd /opt/polybot
ls -la src/ProfitTracker.js  # åº”è¯¥å­˜åœ¨
ls -la src/WalletFollower.js # åº”è¯¥å­˜åœ¨
```

### 2. åˆ›å»ºæ•°æ®ç›®å½•

```bash
mkdir -p data
chmod 755 data
```

### 3. æ£€æŸ¥é…ç½®

```bash
grep -A 5 "profitTracking" config.js
```

å¦‚æœæ²¡æœ‰ï¼Œæ·»åŠ ï¼š

```javascript
// åœ¨ followSettings ä¹‹åæ·»åŠ 
profitTracking: {
  enabled: true,
  autoSaveInterval: 60000,
  displayInterval: 30,
},
```

### 4. éªŒè¯è¯­æ³•

```bash
node --check src/ProfitTracker.js
node --check src/WalletFollower.js
```

### 5. é‡å¯ç¨‹åº

```bash
pm2 restart polybot  # å¦‚æœä½¿ç”¨ PM2
# æˆ–
npm start  # ç›´æ¥è¿è¡Œ
```

## éªŒè¯éƒ¨ç½²æˆåŠŸ

è¿è¡Œç¨‹åºåï¼Œåº”è¯¥çœ‹åˆ°ï¼š

```
âœ… åˆå§‹åŒ–å®Œæˆï¼Œæ­£åœ¨ç›‘å¬ 2 ä¸ªé’±åŒ…
ğŸ“Š ç›ˆåˆ©ç»Ÿè®¡: å·²å¯ç”¨
```

è¿è¡Œä¸€æ®µæ—¶é—´åï¼ŒæŒ‰ `Ctrl+C` é€€å‡ºï¼Œåº”è¯¥çœ‹åˆ°ç›ˆåˆ©ç»Ÿè®¡æŠ¥å‘Šã€‚

## æŸ¥çœ‹ç»Ÿè®¡

### æ–¹æ³• 1ï¼šç¨‹åºé€€å‡ºæ—¶

æŒ‰ `Ctrl+C` é€€å‡ºç¨‹åºï¼Œä¼šè‡ªåŠ¨æ˜¾ç¤ºå®Œæ•´ç»Ÿè®¡æŠ¥å‘Šã€‚

### æ–¹æ³• 2ï¼šæŸ¥çœ‹æ•°æ®æ–‡ä»¶

```bash
cat data/profit-history.json | head -50
```

### æ–¹æ³• 3ï¼šåˆ›å»ºæŸ¥çœ‹è„šæœ¬

```bash
cat > view-stats.js << 'EOF'
import { readFileSync } from 'fs';
const data = JSON.parse(readFileSync('data/profit-history.json', 'utf-8'));
console.log('æ€»äº¤æ˜“:', data.totalTrades);
console.log('å‡€åˆ©æ¶¦:', '$' + data.netProfit.toFixed(2));
EOF

node view-stats.js
```

## é…ç½®è°ƒæ•´

ç¼–è¾‘ `config.js`ï¼š

```bash
nano config.js
```

ä¿®æ”¹ `profitTracking`ï¼š

```javascript
profitTracking: {
  enabled: true,              // å¯ç”¨/ç¦ç”¨
  autoSaveInterval: 60000,    // ä¿å­˜é—´éš”ï¼ˆæ¯«ç§’ï¼‰
  displayInterval: 30,        // æ˜¾ç¤ºé—´éš”ï¼ˆåˆ†é’Ÿï¼Œ0=ä¸è‡ªåŠ¨æ˜¾ç¤ºï¼‰
}
```

## å¸¸è§é—®é¢˜

### Q: æ•°æ®æ–‡ä»¶åœ¨å“ªé‡Œï¼Ÿ

A: `data/profit-history.json`

### Q: å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ

```bash
cp data/profit-history.json data/profit-history.json.backup
```

### Q: å¦‚ä½•ç¦ç”¨ç›ˆåˆ©ç»Ÿè®¡ï¼Ÿ

ç¼–è¾‘ `config.js`ï¼š

```javascript
profitTracking: {
  enabled: false,
}
```

### Q: ç»Ÿè®¡æ•°æ®ä¸å‡†ç¡®ï¼Ÿ

- ç¡®ä¿ç¨‹åºæ­£å¸¸è¿è¡Œ
- æ£€æŸ¥æ˜¯å¦æœ‰äº¤æ˜“æ‰§è¡Œ
- æŸ¥çœ‹ `data/profit-history.json` æ–‡ä»¶å†…å®¹

---

**éƒ¨ç½²å®Œæˆåï¼Œç›ˆåˆ©ç»Ÿè®¡åŠŸèƒ½ä¼šè‡ªåŠ¨å·¥ä½œï¼æ— éœ€é¢å¤–é…ç½®ã€‚**
