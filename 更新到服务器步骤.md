# ğŸ“¤ æ›´æ–°ä»£ç åˆ°è…¾è®¯äº‘æœåŠ¡å™¨ - å®Œæ•´æ­¥éª¤

## å½“å‰çŠ¶æ€

æ ¹æ® Git çŠ¶æ€ï¼Œæœ‰ä»¥ä¸‹æ–‡ä»¶éœ€è¦æäº¤ï¼š

```
å·²ä¿®æ”¹ï¼š
- .gitignore
- index.js
- package.json
- src/WalletFollower.js

æ–°æ–‡ä»¶ï¼š
- src/ProfitTracker.js       âœ… æ–°å¢ï¼šç›ˆåˆ©ç»Ÿè®¡åŠŸèƒ½
- auto-update.sh              âœ… æ–°å¢ï¼šè‡ªåŠ¨æ›´æ–°è„šæœ¬
- setup-auto-update.sh        âœ… æ–°å¢ï¼šè‡ªåŠ¨æ›´æ–°è®¾ç½®è„šæœ¬
- start-proxy.ps1             âœ… æ–°å¢ï¼šä»£ç†å¯åŠ¨è„šæœ¬
- fix-server-config.sh        âœ… æ–°å¢ï¼šæœåŠ¡å™¨é…ç½®ä¿®å¤è„šæœ¬
```

## æ›´æ–°æ­¥éª¤

### æ­¥éª¤ 1ï¼šæäº¤ä»£ç åˆ° Gitï¼ˆæœ¬åœ°ï¼‰

```bash
# æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# æäº¤
git commit -m "æ·»åŠ ç›ˆåˆ©ç»Ÿè®¡åŠŸèƒ½å’Œé”™è¯¯å¤„ç†æ”¹è¿›"

# æ¨é€åˆ°è¿œç¨‹
git push origin main
```

### æ­¥éª¤ 2ï¼šåœ¨æœåŠ¡å™¨ä¸Šæ›´æ–°

#### æ–¹æ³• Aï¼šä½¿ç”¨ä¸€é”®æ›´æ–°è„šæœ¬ï¼ˆæœ€ç®€å•ï¼‰

```bash
# SSH è¿æ¥åˆ°æœåŠ¡å™¨
ssh user@your-server-ip

# è¿›å…¥é¡¹ç›®ç›®å½•
cd /opt/polybot

# ä¸Šä¼ æ›´æ–°è„šæœ¬ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
# æˆ–ç›´æ¥è¿è¡Œ
bash æœåŠ¡å™¨ä¸€é”®æ›´æ–°.sh /opt/polybot
```

#### æ–¹æ³• Bï¼šGit Pullï¼ˆå¦‚æœæœåŠ¡å™¨ä½¿ç”¨ Gitï¼‰

```bash
ssh user@your-server-ip
cd /opt/polybot
git pull origin main
pm2 restart polybot
```

#### æ–¹æ³• Cï¼šä½¿ç”¨è‡ªåŠ¨æ›´æ–°è„šæœ¬

å¦‚æœä¹‹å‰è®¾ç½®äº†è‡ªåŠ¨æ›´æ–°ï¼š

```bash
cd /opt/polybot
bash auto-update.sh
```

#### æ–¹æ³• Dï¼šæ‰‹åŠ¨ä¸Šä¼ ï¼ˆå¦‚æœä¸ç”¨ Gitï¼‰

åœ¨æœ¬åœ°æ‰§è¡Œï¼š

```bash
# ä¸Šä¼ æ ¸å¿ƒæ–‡ä»¶
scp src/ProfitTracker.js user@your-server-ip:/opt/polybot/src/
scp src/WalletFollower.js user@your-server-ip:/opt/polybot/src/
scp config.js user@your-server-ip:/opt/polybot/
scp index.js user@your-server-ip:/opt/polybot/
scp package.json user@your-server-ip:/opt/polybot/

# ä¸Šä¼ æ›´æ–°è„šæœ¬ï¼ˆå¯é€‰ï¼‰
scp æœåŠ¡å™¨ä¸€é”®æ›´æ–°.sh user@your-server-ip:/opt/polybot/
scp auto-update.sh user@your-server-ip:/opt/polybot/
```

åœ¨æœåŠ¡å™¨ä¸Šï¼š

```bash
cd /opt/polybot
chmod +x æœåŠ¡å™¨ä¸€é”®æ›´æ–°.sh auto-update.sh
bash æœåŠ¡å™¨ä¸€é”®æ›´æ–°.sh
```

## å¿«é€Ÿæ›´æ–°å‘½ä»¤ï¼ˆæœåŠ¡å™¨ä¸Šæ‰§è¡Œï¼‰

### ä¸€è¡Œå‘½ä»¤æ›´æ–°

```bash
cd /opt/polybot && git pull origin main && mkdir -p data && chmod 755 data && node --check src/ProfitTracker.js && npm install && pm2 restart polybot && echo "âœ… æ›´æ–°å®Œæˆ"
```

### æˆ–ä½¿ç”¨æ›´æ–°è„šæœ¬

```bash
cd /opt/polybot
chmod +x æœåŠ¡å™¨ä¸€é”®æ›´æ–°.sh
bash æœåŠ¡å™¨ä¸€é”®æ›´æ–°.sh
```

## éªŒè¯æ›´æ–°

æ›´æ–°åéªŒè¯ï¼š

```bash
# 1. æ£€æŸ¥æ–‡ä»¶
ls -la src/ProfitTracker.js
ls -la src/WalletFollower.js

# 2. æ£€æŸ¥é…ç½®
grep "orderType.*FAK" config.js
grep "profitTracking" config.js

# 3. éªŒè¯è¯­æ³•
node --check src/ProfitTracker.js
node --check src/WalletFollower.js

# 4. æŸ¥çœ‹æ—¥å¿—
pm2 logs polybot --lines 30
```

## æ›´æ–°å†…å®¹æ€»ç»“

### âœ… æœ¬æ¬¡æ›´æ–°åŒ…æ‹¬ï¼š

1. **ç›ˆåˆ©ç»Ÿè®¡åŠŸèƒ½**
   - `src/ProfitTracker.js` - æ–°å¢æ–‡ä»¶
   - é›†æˆåˆ° `WalletFollower.js`

2. **é”™è¯¯å¤„ç†æ”¹è¿›**
   - è¯¦ç»†é”™è¯¯ä¿¡æ¯
   - æ™ºèƒ½è¯Šæ–­å»ºè®®
   - å¤±è´¥äº¤æ˜“è®°å½•

3. **é…ç½®ä¼˜åŒ–**
   - `orderType: 'FAK'` - æé«˜æˆåŠŸç‡
   - `maxSlippage: 0.05` - 5% æ»‘ç‚¹

4. **è‡ªåŠ¨æ›´æ–°åŠŸèƒ½**
   - `auto-update.sh` - è‡ªåŠ¨æ›´æ–°è„šæœ¬
   - `setup-auto-update.sh` - è®¾ç½®è„šæœ¬

## å¦‚æœä½¿ç”¨ Git

### æœ¬åœ°æäº¤ï¼ˆå¦‚æœéœ€è¦ï¼‰

```bash
# æŸ¥çœ‹æ›´æ”¹
git status

# æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# æäº¤
git commit -m "æ·»åŠ ç›ˆåˆ©ç»Ÿè®¡ã€æ”¹è¿›é”™è¯¯å¤„ç†ã€ä¼˜åŒ–é…ç½®"

# æ¨é€
git push origin main
```

### æœåŠ¡å™¨æ‹‰å–

```bash
ssh user@your-server-ip
cd /opt/polybot
git pull origin main
pm2 restart polybot
```

## å¦‚æœä¸ç”¨ Git

éœ€è¦æ‰‹åŠ¨ä¸Šä¼ ä»¥ä¸‹æ–‡ä»¶åˆ°æœåŠ¡å™¨ï¼š

```
å¿…éœ€æ–‡ä»¶ï¼š
- src/ProfitTracker.js
- src/WalletFollower.js  
- config.js
- index.js

å¯é€‰æ–‡ä»¶ï¼š
- auto-update.sh
- æœåŠ¡å™¨ä¸€é”®æ›´æ–°.sh
```

---

**æ›´æ–°å®Œæˆåï¼Œç¨‹åºä¼šè‡ªåŠ¨ä½¿ç”¨æ–°çš„åŠŸèƒ½å’Œä¼˜åŒ–é…ç½®ï¼**
