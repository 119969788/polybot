# ğŸ–¥ï¸ é˜¿é‡Œäº‘æœåŠ¡å™¨éƒ¨ç½²æ­¥éª¤

## é”™è¯¯è¯´æ˜

æ‚¨çœ‹åˆ°çš„é”™è¯¯ï¼š
```
npm error path /root/package.json
npm error enoent Could not read package.json
```

**åŸå› **ï¼šå½“å‰ä¸åœ¨é¡¹ç›®ç›®å½•ä¸­ï¼Œéœ€è¦å…ˆå…‹éš†é¡¹ç›®ã€‚

## å®Œæ•´éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1ï¼šè¿æ¥åˆ°æœåŠ¡å™¨

```bash
ssh root@your_server_ip
```

### æ­¥éª¤ 2ï¼šå®‰è£… Node.jsï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

**Ubuntu/Debian:**
```bash
apt update
curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
apt install -y nodejs git
```

**CentOS/RHEL:**
```bash
yum update -y
curl -fsSL https://rpm.nodesource.com/setup_18.x | bash -
yum install -y nodejs git
```

éªŒè¯å®‰è£…ï¼š
```bash
node --version  # åº”è¯¥æ˜¾ç¤º v18.x æˆ–æ›´é«˜
npm --version
```

### æ­¥éª¤ 3ï¼šåˆ›å»ºé¡¹ç›®ç›®å½•å¹¶å…‹éš†

```bash
# åˆ›å»ºé¡¹ç›®ç›®å½•ï¼ˆæ¨èæ”¾åœ¨ /optï¼‰
mkdir -p /opt/polybot
cd /opt/polybot

# å…‹éš†é¡¹ç›®
git clone https://github.com/119969788/polybot.git .

# å¦‚æœå…‹éš†å¤±è´¥ï¼Œå¯èƒ½éœ€è¦é…ç½®ä»£ç†æˆ–ä½¿ç”¨ SSH
# git clone git@github.com:119969788/polybot.git .
```

**æˆ–è€…æ”¾åœ¨å…¶ä»–ä½ç½®ï¼š**
```bash
# é€‰é¡¹1ï¼šæ”¾åœ¨ç”¨æˆ·ç›®å½•
cd ~
git clone https://github.com/119969788/polybot.git
cd polybot

# é€‰é¡¹2ï¼šæ”¾åœ¨å½“å‰ç›®å½•
cd /root
git clone https://github.com/119969788/polybot.git
cd polybot
```

### æ­¥éª¤ 4ï¼šéªŒè¯é¡¹ç›®æ–‡ä»¶

```bash
# ç¡®è®¤åœ¨é¡¹ç›®ç›®å½•ä¸­
pwd  # åº”è¯¥æ˜¾ç¤º /opt/polybot æˆ–å…¶ä»–é¡¹ç›®è·¯å¾„

# æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
ls -la  # åº”è¯¥çœ‹åˆ° package.json, index.js ç­‰æ–‡ä»¶

# ç¡®è®¤ package.json å­˜åœ¨
cat package.json  # åº”è¯¥æ˜¾ç¤ºé¡¹ç›®é…ç½®
```

### æ­¥éª¤ 5ï¼šå®‰è£…ä¾èµ–

```bash
# ç¡®ä¿åœ¨é¡¹ç›®ç›®å½•ä¸­
cd /opt/polybot  # æˆ–æ‚¨çš„é¡¹ç›®ç›®å½•

# å®‰è£…ä¾èµ–
npm install

# å¦‚æœç½‘ç»œæ…¢ï¼Œä½¿ç”¨å›½å†…é•œåƒ
npm config set registry https://registry.npmmirror.com
npm install
```

### æ­¥éª¤ 6ï¼šé…ç½®é¡¹ç›®

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp config.example.js config.js

# ç¼–è¾‘é…ç½®
nano config.js
# æˆ–ä½¿ç”¨ vi
# vi config.js
```

### æ­¥éª¤ 7ï¼šè¿è¡Œé¡¹ç›®

#### æ–¹å¼ä¸€ï¼šç›´æ¥è¿è¡Œï¼ˆæµ‹è¯•ï¼‰

```bash
npm start
```

#### æ–¹å¼äºŒï¼šä½¿ç”¨ PM2 åå°è¿è¡Œï¼ˆæ¨èï¼‰

```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨
pm2 start index.js --name polybot

# æŸ¥çœ‹çŠ¶æ€
pm2 status

# æŸ¥çœ‹æ—¥å¿—
pm2 logs polybot

# è®¾ç½®å¼€æœºè‡ªå¯
pm2 save
pm2 startup  # æ‰§è¡Œæ˜¾ç¤ºçš„å‘½ä»¤
```

## å¿«é€Ÿä¸€é”®éƒ¨ç½²

æ‚¨ä¹Ÿå¯ä»¥ç›´æ¥è¿è¡Œè¿™ä¸ªå‘½ä»¤ï¼ˆåœ¨é¡¹ç›®ç›®å½•ä¸­ï¼‰ï¼š

```bash
cd /opt
git clone https://github.com/119969788/polybot.git
cd polybot
npm config set registry https://registry.npmmirror.com
npm install
cp config.example.js config.js
npm start
```

## å¸¸è§é—®é¢˜

### Q: æ˜¾ç¤º "bash: git: command not found"

**è§£å†³**ï¼šå®‰è£… Git
```bash
# Ubuntu/Debian
apt install -y git

# CentOS/RHEL
yum install -y git
```

### Q: git clone å¤±è´¥

**è§£å†³**ï¼š
1. æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼š`ping github.com`
2. å¦‚æœåœ¨ä¸­å›½å¤§é™†ï¼Œå¯èƒ½éœ€è¦é…ç½®ä»£ç†
3. æˆ–ä½¿ç”¨ Gitee é•œåƒï¼ˆå¦‚æœå¯ç”¨ï¼‰

### Q: npm install å¾ˆæ…¢

**è§£å†³**ï¼šä½¿ç”¨å›½å†…é•œåƒ
```bash
npm config set registry https://registry.npmmirror.com
npm install
```

### Q: å¦‚ä½•ç¡®è®¤åœ¨æ­£ç¡®çš„ç›®å½•

**è§£å†³**ï¼š
```bash
# æŸ¥çœ‹å½“å‰ç›®å½•
pwd

# æŸ¥çœ‹æ–‡ä»¶åˆ—è¡¨
ls -la

# åº”è¯¥çœ‹åˆ° package.json
ls package.json

# å¦‚æœçœ‹åˆ° "No such file"ï¼Œè¯´æ˜ä¸åœ¨é¡¹ç›®ç›®å½•
```

### Q: éƒ¨ç½²åå¦‚ä½•æ›´æ–°

**è§£å†³**ï¼š
```bash
cd /opt/polybot  # è¿›å…¥é¡¹ç›®ç›®å½•
git pull         # æ‹‰å–æœ€æ–°ä»£ç 
npm install      # å®‰è£…æ–°ä¾èµ–ï¼ˆå¦‚æœæœ‰ï¼‰
pm2 restart polybot  # é‡å¯ï¼ˆå¦‚æœä½¿ç”¨ PM2ï¼‰
```

## éªŒè¯éƒ¨ç½²

éƒ¨ç½²å®Œæˆåï¼Œæ£€æŸ¥ï¼š

```bash
# 1. ç¡®è®¤åœ¨é¡¹ç›®ç›®å½•
pwd
ls package.json

# 2. ç¡®è®¤ä¾èµ–å·²å®‰è£…
ls node_modules

# 3. æµ‹è¯•è¿è¡Œ
npm start
# æŒ‰ Ctrl+C åœæ­¢

# 4. å¦‚æœä½¿ç”¨ PM2ï¼ŒæŸ¥çœ‹çŠ¶æ€
pm2 status
pm2 logs polybot
```

## ç›®å½•ç»“æ„å‚è€ƒ

éƒ¨ç½²å®Œæˆåï¼Œç›®å½•ç»“æ„åº”è¯¥æ˜¯ï¼š

```
/opt/polybot/          # æˆ–æ‚¨é€‰æ‹©çš„ç›®å½•
â”œâ”€â”€ package.json       # âœ… å¿…é¡»å­˜åœ¨
â”œâ”€â”€ index.js          # âœ… å¿…é¡»å­˜åœ¨
â”œâ”€â”€ config.js         # éœ€è¦åˆ›å»º
â”œâ”€â”€ config.example.js # âœ… ç¤ºä¾‹é…ç½®
â”œâ”€â”€ node_modules/     # âœ… ä¾èµ–åŒ…
â”œâ”€â”€ src/
â”‚   â””â”€â”€ WalletFollower.js
â”œâ”€â”€ README.md
â””â”€â”€ ...
```

## å®Œæ•´å‘½ä»¤ç¤ºä¾‹

```bash
# === å®Œæ•´éƒ¨ç½²æµç¨‹ ===

# 1. è¿æ¥åˆ°æœåŠ¡å™¨åï¼Œæ‰§è¡Œï¼š
apt update && apt install -y git curl

# 2. å®‰è£… Node.js
curl -fsSL https://deb.nodesource.com/setup_18.x | bash -
apt install -y nodejs

# 3. å…‹éš†é¡¹ç›®
mkdir -p /opt/polybot
cd /opt/polybot
git clone https://github.com/119969788/polybot.git .

# 4. å®‰è£…ä¾èµ–
npm config set registry https://registry.npmmirror.com
npm install

# 5. é…ç½®é¡¹ç›®
cp config.example.js config.js
nano config.js  # ç¼–è¾‘é…ç½®

# 6. è¿è¡Œï¼ˆæµ‹è¯•ï¼‰
npm start

# 7. æˆ–ä½¿ç”¨ PM2 åå°è¿è¡Œ
npm install -g pm2
pm2 start index.js --name polybot
pm2 save
pm2 startup
```

---

**é‡è¦æç¤º**ï¼šç¡®ä¿åœ¨åŒ…å« `package.json` çš„é¡¹ç›®ç›®å½•ä¸­è¿è¡Œ `npm` å‘½ä»¤ï¼
