# ğŸ”§ æœåŠ¡å™¨å¿«é€Ÿä¿®å¤æŒ‡å—

## é—®é¢˜è¯´æ˜

æ‚¨é‡åˆ°äº†ä¸¤ä¸ªé—®é¢˜ï¼š

1. **ç‰ˆæœ¬å·é”™è¯¯**ï¼š`npm error notarget No matching version found for @catalyst-team/poly-sdk@^0.4.3`
   - å®é™…å¯ç”¨ç‰ˆæœ¬æ˜¯ `0.4.0`ï¼Œä¸æ˜¯ `0.4.3`

2. **å‘½ä»¤é”™è¯¯**ï¼š`Command 'pnpm' not found`
   - åº”ä½¿ç”¨ `npm` è€Œä¸æ˜¯ `pnpm`

## å¿«é€Ÿä¿®å¤æ­¥éª¤

åœ¨æœåŠ¡å™¨ä¸Šæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

```bash
# 1. ç¡®ä¿åœ¨é¡¹ç›®ç›®å½•
cd /opt/polybot

# 2. ä¿®å¤ package.jsonï¼ˆå¦‚æœç‰ˆæœ¬å·ä¸å¯¹ï¼‰
# æ£€æŸ¥å½“å‰ç‰ˆæœ¬
cat package.json | grep poly-sdk

# å¦‚æœæ˜¾ç¤º 0.4.3ï¼Œéœ€è¦ä¿®æ”¹ä¸º 0.4.0
sed -i 's/"@catalyst-team\/poly-sdk": "\^0.4.3"/"@catalyst-team\/poly-sdk": "0.4.0"/g' package.json

# æˆ–è€…ç›´æ¥ç¼–è¾‘
nano package.json
# å°† "@catalyst-team/poly-sdk": "^0.4.3" æ”¹ä¸º "@catalyst-team/poly-sdk": "0.4.0"
# ä¿å­˜ï¼šCtrl+O, Enter, Ctrl+X

# 3. æ¸…é™¤ npm ç¼“å­˜
npm cache clean --force

# 4. åˆ é™¤æ—§çš„ä¾èµ–å’Œé”å®šæ–‡ä»¶
rm -rf node_modules package-lock.json

# 5. ä½¿ç”¨å›½å†…é•œåƒåŠ é€Ÿï¼ˆæ¨èï¼‰
npm config set registry https://registry.npmmirror.com

# 6. é‡æ–°å®‰è£…ä¾èµ–
npm install

# 7. éªŒè¯å®‰è£…
npm list @catalyst-team/poly-sdk

# 8. è¿è¡Œé¡¹ç›®ï¼ˆä½¿ç”¨ npmï¼Œä¸æ˜¯ pnpmï¼‰
npm start
```

## å®Œæ•´ä¿®å¤è„šæœ¬

å¤åˆ¶ä»¥ä¸‹å†…å®¹åˆ°æœåŠ¡å™¨æ‰§è¡Œï¼š

```bash
#!/bin/bash
cd /opt/polybot

echo "ä¿®å¤ package.json ç‰ˆæœ¬å·..."
sed -i 's/"@catalyst-team\/poly-sdk": "\^0.4.3"/"@catalyst-team\/poly-sdk": "0.4.0"/g' package.json
sed -i 's/"@catalyst-team\/poly-sdk": "0.4.3"/"@catalyst-team\/poly-sdk": "0.4.0"/g' package.json

echo "æ¸…é™¤ç¼“å­˜..."
npm cache clean --force

echo "åˆ é™¤æ—§ä¾èµ–..."
rm -rf node_modules package-lock.json

echo "è®¾ç½®é•œåƒ..."
npm config set registry https://registry.npmmirror.com

echo "å®‰è£…ä¾èµ–..."
npm install

echo "éªŒè¯å®‰è£…..."
npm list @catalyst-team/poly-sdk

echo "âœ… ä¿®å¤å®Œæˆï¼ç°åœ¨å¯ä»¥ä½¿ç”¨ npm start è¿è¡Œ"
```

## ä½¿ç”¨ npm è€Œä¸æ˜¯ pnpm

**é‡è¦**ï¼šæœ¬é¡¹ç›®ä½¿ç”¨ `npm`ï¼Œä¸æ˜¯ `pnpm`ã€‚

### æ­£ç¡®å‘½ä»¤

```bash
# âœ… æ­£ç¡®ï¼šä½¿ç”¨ npm
npm install
npm start
npm run dev

# âŒ é”™è¯¯ï¼šä¸è¦ä½¿ç”¨ pnpm
pnpm install  # ä¼šæŠ¥é”™ï¼šCommand 'pnpm' not found
pnpm start    # ä¼šæŠ¥é”™
```

### å¦‚æœæƒ³ä½¿ç”¨ pnpmï¼ˆå¯é€‰ï¼‰

å¦‚æœæ‚¨æƒ³ä½¿ç”¨ pnpmï¼Œéœ€è¦å…ˆå®‰è£…ï¼š

```bash
# å®‰è£… pnpm
npm install -g pnpm

# ç„¶åä½¿ç”¨ pnpm
pnpm install
pnpm start
```

ä½†**å»ºè®®ä½¿ç”¨ npm**ï¼Œå› ä¸ºé¡¹ç›®å·²é…ç½®å¥½ npmã€‚

## éªŒè¯ä¿®å¤

ä¿®å¤åï¼ŒéªŒè¯æ­¥éª¤ï¼š

```bash
# 1. ç¡®è®¤åœ¨é¡¹ç›®ç›®å½•
cd /opt/polybot
pwd  # åº”è¯¥æ˜¾ç¤º /opt/polybot

# 2. æ£€æŸ¥ package.json
cat package.json | grep poly-sdk
# åº”è¯¥æ˜¾ç¤ºï¼š@catalyst-team/poly-sdk": "0.4.0"

# 3. æ£€æŸ¥ä¾èµ–æ˜¯å¦å®‰è£…
npm list @catalyst-team/poly-sdk
# åº”è¯¥æ˜¾ç¤ºç‰ˆæœ¬ 0.4.0

# 4. æ£€æŸ¥æ–‡ä»¶
ls node_modules/@catalyst-team/poly-sdk
# åº”è¯¥å­˜åœ¨

# 5. æµ‹è¯•è¿è¡Œ
npm start
# åº”è¯¥èƒ½æ­£å¸¸å¯åŠ¨
```

## å¦‚æœè¿˜æœ‰é—®é¢˜

### é—®é¢˜ 1ï¼šä»ç„¶æ‰¾ä¸åˆ°åŒ…

```bash
# æ¸…é™¤æ‰€æœ‰ç¼“å­˜
npm cache clean --force
rm -rf node_modules package-lock.json ~/.npm

# ä½¿ç”¨å®˜æ–¹æºå°è¯•
npm config set registry https://registry.npmjs.org
npm install

# å¦‚æœè¿˜æ˜¯ä¸è¡Œï¼Œä½¿ç”¨é•œåƒ
npm config set registry https://registry.npmmirror.com
npm install
```

### é—®é¢˜ 2ï¼šæƒé™é—®é¢˜

```bash
# å¦‚æœé‡åˆ°æƒé™é—®é¢˜ï¼Œä½¿ç”¨ sudo
sudo npm install

# æˆ–è€…ä¿®å¤ npm æƒé™
mkdir ~/.npm-global
npm config set prefix '~/.npm-global'
export PATH=~/.npm-global/bin:$PATH
```

### é—®é¢˜ 3ï¼šç½‘ç»œè¿æ¥é—®é¢˜

```bash
# æ£€æŸ¥ç½‘ç»œ
ping registry.npmjs.org
ping registry.npmmirror.com

# å¦‚æœç½‘ç»œæœ‰é—®é¢˜ï¼Œé…ç½®ä»£ç†ï¼ˆå¦‚æœæœ‰ï¼‰
npm config set proxy http://127.0.0.1:7890
npm config set https-proxy http://127.0.0.1:7890
```

## å¿«é€Ÿå‘½ä»¤æ€»ç»“

```bash
# === ä¸€é”®ä¿®å¤ ===
cd /opt/polybot && \
sed -i 's/0.4.3/0.4.0/g' package.json && \
npm cache clean --force && \
rm -rf node_modules package-lock.json && \
npm config set registry https://registry.npmmirror.com && \
npm install && \
npm start
```

---

**è®°ä½**ï¼šä½¿ç”¨ `npm`ï¼Œä¸æ˜¯ `pnpm`ï¼ âœ…
